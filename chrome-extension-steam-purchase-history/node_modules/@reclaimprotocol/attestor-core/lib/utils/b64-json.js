"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.B64_JSON_REVIVER = exports.B64_JSON_REPLACER = void 0;
const utils_1 = require("ethers/lib/utils");
const B64_JSON_REPLACER = (key, value) => {
    if (value instanceof Uint8Array
        || (typeof value === 'object'
            && value
            && 'buffer' in value
            && value.buffer instanceof ArrayBuffer)) {
        return { type: 'uint8array', value: utils_1.base64.encode(value) };
    }
    return value;
};
exports.B64_JSON_REPLACER = B64_JSON_REPLACER;
const B64_JSON_REVIVER = (key, value) => {
    if ((value === null || value === void 0 ? void 0 : value.type) === 'uint8array') {
        return utils_1.base64.decode(value.value);
    }
    return value;
};
exports.B64_JSON_REVIVER = B64_JSON_REVIVER;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYjY0LWpzb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdXRpbHMvYjY0LWpzb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsNENBQXlDO0FBRWxDLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxHQUFXLEVBQUUsS0FBVSxFQUFFLEVBQUU7SUFDNUQsSUFDQyxLQUFLLFlBQVksVUFBVTtXQUN4QixDQUNGLE9BQU8sS0FBSyxLQUFLLFFBQVE7ZUFDdEIsS0FBSztlQUNMLFFBQVEsSUFBSSxLQUFLO2VBQ2pCLEtBQUssQ0FBQyxNQUFNLFlBQVksV0FBVyxDQUN0QyxFQUNBLENBQUM7UUFDRixPQUFPLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsY0FBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFBO0lBQzNELENBQUM7SUFFRCxPQUFPLEtBQUssQ0FBQTtBQUNiLENBQUMsQ0FBQTtBQWRZLFFBQUEsaUJBQWlCLHFCQWM3QjtBQUVNLE1BQU0sZ0JBQWdCLEdBQUcsQ0FBQyxHQUFXLEVBQUUsS0FBVSxFQUFFLEVBQUU7SUFDM0QsSUFBRyxDQUFBLEtBQUssYUFBTCxLQUFLLHVCQUFMLEtBQUssQ0FBRSxJQUFJLE1BQUssWUFBWSxFQUFFLENBQUM7UUFDakMsT0FBTyxjQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQTtJQUNsQyxDQUFDO0lBRUQsT0FBTyxLQUFLLENBQUE7QUFDYixDQUFDLENBQUE7QUFOWSxRQUFBLGdCQUFnQixvQkFNNUIifQ==