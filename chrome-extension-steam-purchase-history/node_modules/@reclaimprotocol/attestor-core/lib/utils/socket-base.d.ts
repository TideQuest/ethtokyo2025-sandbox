import { InitRequest, RPCMessage, RPCMessages } from '../proto/api';
import { IAttestorSocket, Logger, RPCEvent, RPCEventMap } from '../types';
import type { WebSocket as WSWebSocket } from 'ws';
/**
 * Common AttestorSocket class used on the client & server side as the
 * base for their respective socket implementations.
 */
export declare class AttestorSocket implements IAttestorSocket {
    protected socket: WebSocket | WSWebSocket;
    metadata: InitRequest;
    logger: Logger;
    private eventTarget;
    isInitialised: boolean;
    constructor(socket: WebSocket | WSWebSocket, metadata: InitRequest, logger: Logger);
    get isOpen(): boolean;
    get isClosed(): boolean;
    sendMessage(...msgs: Partial<RPCMessage>[]): Promise<RPCMessages>;
    dispatchRPCEvent<K extends keyof RPCEventMap>(type: K, data: RPCEventMap[K]): void;
    addEventListener<K extends keyof RPCEventMap>(type: K, listener: (data: RPCEvent<K>) => void): void;
    removeEventListener<K extends keyof RPCEventMap>(type: K, listener: (data: RPCEvent<K>) => void): void;
    terminateConnection(err?: Error): Promise<void>;
}
